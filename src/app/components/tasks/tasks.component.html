<ion-list>
    @if (tasks) {
        @for (task of tasks; track task) {
            <ion-item-sliding>
                <ion-item
                    [routerLink]="'/view-task/' + task.id"
                    [detail]="false"
                >
                    <div slot="start" [class]="!task.completed ? 'dot dot-unread' : 'dot'"></div>
                    <ion-label class="ion-text-wrap">
                    <h2>
                        {{ task.name }}
                        <span class="date">
                            <ion-note>{{ task.created_at | relativeTime }}</ion-note>
                        </span>
                    </h2>
                    <h3>{{ task.description }}</h3>
                    </ion-label>
                </ion-item>

                <ion-item-options>
                    <ion-item-option color="primary" (click)="editTask(task); this.ionList.closeSlidingItems()">
                        <ion-icon slot="icon-only" name="create-outline"></ion-icon>
                    </ion-item-option>

                    <ion-item-option color="danger" (click)="deleteTaskEmit(task)">
                        <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                    </ion-item-option>
                </ion-item-options>
            </ion-item-sliding>
        }
    }
</ion-list>

